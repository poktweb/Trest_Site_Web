–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ HTTP –∏–∑–º–æ–¥—É–ª—è "std/http"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ FileSystem –∏–∑–º–æ–¥—É–ª—è "std/filesystem"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ JSON –∏–∑–º–æ–¥—É–ª—è "std/json"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ Date –∏–∑–º–æ–¥—É–ª—è "std/date"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ Crypto –∏–∑–º–æ–¥—É–ª—è "std/crypto"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ String –∏–∑–º–æ–¥—É–ª—è "std/string"
–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ Array –∏–∑–º–æ–¥—É–ª—è "std/array"

# Armazenamento de sess√µes ativas (simples, em mem√≥ria)
–ø—É—Å—Ç—å sessions = {}

# Fun√ß√£o para ler JSON de arquivo
—Ñ—É–Ω–∫—Ü–∏—è lerJSON(arquivo) {
    –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –µ—Å–ª–∏ (!FileSystem.exists(arquivo)) {
            –ø–µ—á–∞—Ç—å("Arquivo n√£o existe: " + arquivo)
            –≤–µ—Ä–Ω—É—Ç—å []
        }
        –ø—É—Å—Ç—å conteudo = FileSystem.readFile(arquivo)
        –µ—Å–ª–∏ (conteudo == "" || conteudo == –Ω—É–ª—å) {
            –ø–µ—á–∞—Ç—å("Arquivo vazio: " + arquivo)
            –≤–µ—Ä–Ω—É—Ç—å []
        }
        # Usar JSON.parse conforme exemplo oficial
        –≤–µ—Ä–Ω—É—Ç—å JSON.parse(conteudo)
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –ø–µ—á–∞—Ç—å("Erro ao ler JSON: " + arquivo + " - " + erro)
        # Fallback para users.json se houver erro
        –µ—Å–ª–∏ (arquivo == "data/users.json") {
            –≤–µ—Ä–Ω—É—Ç—å [{ username = "poktweb", password = "84005787" }]
        }
        –≤–µ—Ä–Ω—É—Ç—å []
    }
}

# Fun√ß√£o para escrever JSON em arquivo
—Ñ—É–Ω–∫—Ü–∏—è escreverJSON(arquivo, dados) {
    –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        # Usar JSON.stringify conforme exemplo oficial (sem indenta√ß√£o por padr√£o)
        –ø—É—Å—Ç—å jsonStr = JSON.stringify(dados)
        FileSystem.writeFile(arquivo, jsonStr)
        –≤–µ—Ä–Ω—É—Ç—å –∏—Å—Ç–∏–Ω–∞
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –ø–µ—á–∞—Ç—å("Erro ao escrever JSON: " + arquivo + " - " + erro)
        –≤–µ—Ä–Ω—É—Ç—å –ª–æ–∂—å
    }
}

# Fun√ß√£o para extrair cookies do header
—Ñ—É–Ω–∫—Ü–∏—è extrairCookie(headerCookie, nome) {
    –µ—Å–ª–∏ (headerCookie == –Ω—É–ª—å || headerCookie == "") {
        –≤–µ—Ä–Ω—É—Ç—å –Ω—É–ª—å
    }
    –ø—É—Å—Ç—å cookies = String.—Ä–∞–∑–¥–µ–ª–∏—Ç—å(headerCookie, ";")
    –¥–ª—è (–ø—É—Å—Ç—å cookie –∏–∑ cookies) {
        –ø—É—Å—Ç—å partes = String.—Ä–∞–∑–¥–µ–ª–∏—Ç—å(String.–Ω–∏–∂–Ω–∏–π(cookie), "=")
        –µ—Å–ª–∏ (Array.–¥–ª–∏–Ω–∞(partes) == 2) {
            –ø—É—Å—Ç—å key = String.–∑–∞–º–µ–Ω–∏—Ç—å(partes[0], " ", "")
            –ø—É—Å—Ç—å value = String.–∑–∞–º–µ–Ω–∏—Ç—å(partes[1], " ", "")
            –µ—Å–ª–∏ (key == nome) {
                –≤–µ—Ä–Ω—É—Ç—å value
            }
        }
    }
    –≤–µ—Ä–Ω—É—Ç—å –Ω—É–ª—å
}

# Fun√ß√£o para verificar autentica√ß√£o
—Ñ—É–Ω–∫—Ü–∏—è verificarAuth(–∑–∞–ø—Ä–æ—Å) {
    –ø—É—Å—Ç—å cookieHeader = –∑–∞–ø—Ä–æ—Å.headers["cookie"]
    –µ—Å–ª–∏ (cookieHeader == –Ω—É–ª—å) {
        cookieHeader = –∑–∞–ø—Ä–æ—Å.headers["Cookie"]
    }
    –ø—É—Å—Ç—å token = extrairCookie(cookieHeader, "auth_token")
    –µ—Å–ª–∏ (token == –Ω—É–ª—å) {
        –≤–µ—Ä–Ω—É—Ç—å –ª–æ–∂—å
    }
    –µ—Å–ª–∏ (sessions[token] == –Ω—É–ª—å) {
        –≤–µ—Ä–Ω—É—Ç—å –ª–æ–∂—å
    }
    –≤–µ—Ä–Ω—É—Ç—å –∏—Å—Ç–∏–Ω–∞
}

# Fun√ß√£o para criar token de sess√£o
—Ñ—É–Ω–∫—Ü–∏—è criarToken() {
    –ø—É—Å—Ç—å timestamp = Date.timestamp()
    –ø—É—Å—Ç—å random = Crypto.randomBytes(16)
    –≤–µ—Ä–Ω—É—Ç—å Crypto.sha256(timestamp + random + "trest_admin")
}

# Fun√ß√£o para gerar HTML da p√°gina de login
—Ñ—É–Ω–∫—Ü–∏—è obterHTMLLogin() {
    –≤–µ—Ä–Ω—É—Ç—å "<!DOCTYPE html>\n" +
"<html lang=\"pt-BR\">\n" +
"<head>\n" +
"    <meta charset=\"UTF-8\">\n" +
"    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n" +
"    <title>Login - Painel Admin</title>\n" +
"    <style>\n" +
"        * { margin: 0; padding: 0; box-sizing: border-box; }\n" +
"        body {\n" +
"            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n" +
"            background: #0a0a0a;\n" +
"            color: #e0e0e0;\n" +
"            display: flex;\n" +
"            justify-content: center;\n" +
"            align-items: center;\n" +
"            min-height: 100vh;\n" +
"            padding: 2rem;\n" +
"        }\n" +
"        .login-container {\n" +
"            background: #141414;\n" +
"            border: 1px solid #2a2a2a;\n" +
"            border-radius: 12px;\n" +
"            padding: 3rem;\n" +
"            width: 100%;\n" +
"            max-width: 400px;\n" +
"        }\n" +
"        .login-container h1 {\n" +
"            margin-bottom: 2rem;\n" +
"            color: #6366f1;\n" +
"            text-align: center;\n" +
"        }\n" +
"        .login-form input {\n" +
"            width: 100%;\n" +
"            background: #1a1a1a;\n" +
"            border: 1px solid #2a2a2a;\n" +
"            border-radius: 6px;\n" +
"            padding: 0.75rem;\n" +
"            color: #e0e0e0;\n" +
"            font-size: 1rem;\n" +
"            margin-bottom: 1rem;\n" +
"        }\n" +
"        .login-form input:focus {\n" +
"            outline: none;\n" +
"            border-color: #6366f1;\n" +
"        }\n" +
"        .login-form button {\n" +
"            width: 100%;\n" +
"            background: #6366f1;\n" +
"            color: white;\n" +
"            border: none;\n" +
"            border-radius: 6px;\n" +
"            padding: 0.75rem;\n" +
"            font-size: 1rem;\n" +
"            font-weight: 600;\n" +
"            cursor: pointer;\n" +
"            margin-top: 1rem;\n" +
"        }\n" +
"        .login-form button:hover { background: #818cf8; }\n" +
"        .error { color: #ef4444; margin-top: 1rem; text-align: center; }\n" +
"        .link-back { display: block; text-align: center; margin-top: 1.5rem; color: #a0a0a0; text-decoration: none; }\n" +
"        .link-back:hover { color: #6366f1; }\n" +
"    </style>\n" +
"</head>\n" +
"<body>\n" +
"    <div class=\"login-container\">\n" +
"        <h1>üîê Login Admin</h1>\n" +
"        <form class=\"login-form\" id=\"loginForm\">\n" +
"            <input type=\"text\" id=\"username\" placeholder=\"Usu√°rio\" required autofocus>\n" +
"            <input type=\"password\" id=\"password\" placeholder=\"Senha\" required>\n" +
"            <button type=\"submit\">Entrar</button>\n" +
"            <div id=\"error\" class=\"error\" style=\"display: none;\"></div>\n" +
"        </form>\n" +
"        <a href=\"/\" class=\"link-back\">‚Üê Voltar ao site</a>\n" +
"    </div>\n" +
"    <script>\n" +
"        document.getElementById('loginForm').addEventListener('submit', function(e) {\n" +
"            e.preventDefault();\n" +
"            const username = document.getElementById('username').value;\n" +
"            const password = document.getElementById('password').value;\n" +
"\n" +
"            fetch('/api/login', {\n" +
"                method: 'POST',\n" +
"                headers: { 'Content-Type': 'application/json' },\n" +
"                body: JSON.stringify({ username: username, password: password })\n" +
"            })\n" +
"            .then(res => res.json())\n" +
"            .then(data => {\n" +
"                if (data.success) {\n" +
"                    window.location.href = '/admin';\n" +
"                } else {\n" +
"                    const errorDiv = document.getElementById('error');\n" +
"                    errorDiv.textContent = data.error || 'Credenciais inv√°lidas';\n" +
"                    errorDiv.style.display = 'block';\n" +
"                }\n" +
"            })\n" +
"            .catch(err => {\n" +
"                const errorDiv = document.getElementById('error');\n" +
"                errorDiv.textContent = 'Erro ao fazer login';\n" +
"                errorDiv.style.display = 'block';\n" +
"            });\n" +
"        });\n" +
"    </script>\n" +
"</body>\n" +
"</html>"
}

# Fun√ß√£o para gerar HTML completo do site
—Ñ—É–Ω–∫—Ü–∏—è obterHTMLCompleto() {
    –≤–µ—Ä–Ω—É—Ç—å "<!DOCTYPE html>\n" +
"<html lang=\"pt-BR\">\n" +
"<head>\n" +
"    <meta charset=\"UTF-8\">\n" +
"    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n" +
"    <title>Trest Language - Documenta√ß√£o</title>\n" +
"    <style>\n" +
"        * {\n" +
"            margin: 0;\n" +
"            padding: 0;\n" +
"            box-sizing: border-box;\n" +
"        }\n" +
"\n" +
"        :root {\n" +
"            --bg-primary: #0a0a0a;\n" +
"            --bg-secondary: #141414;\n" +
"            --bg-tertiary: #1a1a1a;\n" +
"            --text-primary: #e0e0e0;\n" +
"            --text-secondary: #a0a0a0;\n" +
"            --accent: #6366f1;\n" +
"            --accent-hover: #818cf8;\n" +
"            --border: #2a2a2a;\n" +
"        }\n" +
"\n" +
"        body {\n" +
"            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n" +
"            background: var(--bg-primary);\n" +
"            color: var(--text-primary);\n" +
"            line-height: 1.6;\n" +
"            display: flex;\n" +
"            min-height: 100vh;\n" +
"        }\n" +
"\n" +
"        /* Menu Lateral */\n" +
"        .sidebar {\n" +
"            width: 280px;\n" +
"            background: var(--bg-secondary);\n" +
"            border-right: 1px solid var(--border);\n" +
"            padding: 2rem 0;\n" +
"            position: fixed;\n" +
"            height: 100vh;\n" +
"            overflow-y: auto;\n" +
"            z-index: 100;\n" +
"        }\n" +
"\n" +
"        .sidebar-header {\n" +
"            padding: 0 2rem 2rem;\n" +
"            border-bottom: 1px solid var(--border);\n" +
"            margin-bottom: 2rem;\n" +
"        }\n" +
"\n" +
"        .sidebar-header h1 {\n" +
"            font-size: 1.5rem;\n" +
"            font-weight: 600;\n" +
"            color: var(--text-primary);\n" +
"            margin-bottom: 0.25rem;\n" +
"        }\n" +
"\n" +
"        .sidebar-header p {\n" +
"            font-size: 0.875rem;\n" +
"            color: var(--text-secondary);\n" +
"        }\n" +
"\n" +
"        .nav-menu {\n" +
"            list-style: none;\n" +
"            padding: 0;\n" +
"        }\n" +
"\n" +
"        .nav-menu li {\n" +
"            margin: 0;\n" +
"        }\n" +
"\n" +
"        .nav-menu a {\n" +
"            display: block;\n" +
"            padding: 0.75rem 2rem;\n" +
"            color: var(--text-secondary);\n" +
"            text-decoration: none;\n" +
"            transition: all 0.2s ease;\n" +
"            border-left: 3px solid transparent;\n" +
"        }\n" +
"\n" +
"        .nav-menu a:hover {\n" +
"            background: var(--bg-tertiary);\n" +
"            color: var(--text-primary);\n" +
"            border-left-color: var(--accent);\n" +
"        }\n" +
"\n" +
"        /* Conte√∫do Principal */\n" +
"        .main-content {\n" +
"            flex: 1;\n" +
"            margin-left: 280px;\n" +
"            padding: 3rem 4rem;\n" +
"            max-width: 900px;\n" +
"        }\n" +
"\n" +
"        section {\n" +
"            margin-bottom: 4rem;\n" +
"            scroll-margin-top: 2rem;\n" +
"        }\n" +
"\n" +
"        h1 {\n" +
"            font-size: 2.5rem;\n" +
"            font-weight: 700;\n" +
"            margin-bottom: 1rem;\n" +
"            color: var(--text-primary);\n" +
"            line-height: 1.2;\n" +
"        }\n" +
"\n" +
"        h2 {\n" +
"            font-size: 1.75rem;\n" +
"            font-weight: 600;\n" +
"            margin: 2.5rem 0 1rem;\n" +
"            color: var(--text-primary);\n" +
"            padding-bottom: 0.5rem;\n" +
"            border-bottom: 1px solid var(--border);\n" +
"        }\n" +
"\n" +
"        h3 {\n" +
"            font-size: 1.25rem;\n" +
"            font-weight: 600;\n" +
"            margin: 1.5rem 0 0.75rem;\n" +
"            color: var(--text-primary);\n" +
"        }\n" +
"\n" +
"        p {\n" +
"            margin-bottom: 1rem;\n" +
"            color: var(--text-secondary);\n" +
"            line-height: 1.7;\n" +
"        }\n" +
"\n" +
"        .intro {\n" +
"            font-size: 1.125rem;\n" +
"            color: var(--text-primary);\n" +
"            margin-bottom: 2rem;\n" +
"        }\n" +
"\n" +
"        .feature-grid {\n" +
"            display: grid;\n" +
"            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n" +
"            gap: 1.5rem;\n" +
"            margin: 2rem 0;\n" +
"        }\n" +
"\n" +
"        .feature-card {\n" +
"            background: var(--bg-secondary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 8px;\n" +
"            padding: 1.5rem;\n" +
"            transition: all 0.2s ease;\n" +
"        }\n" +
"\n" +
"        .feature-card:hover {\n" +
"            border-color: var(--accent);\n" +
"            transform: translateY(-2px);\n" +
"        }\n" +
"\n" +
"        .feature-card h3 {\n" +
"            margin-top: 0;\n" +
"            color: var(--accent);\n" +
"            font-size: 1.125rem;\n" +
"        }\n" +
"\n" +
"        .code-block {\n" +
"            background: var(--bg-secondary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 8px;\n" +
"            padding: 1.5rem;\n" +
"            margin: 1.5rem 0;\n" +
"            overflow-x: auto;\n" +
"            font-family: 'Courier New', monospace;\n" +
"            font-size: 0.875rem;\n" +
"            line-height: 1.6;\n" +
"        }\n" +
"\n" +
"        .code-block code {\n" +
"            color: var(--text-primary);\n" +
"        }\n" +
"\n" +
"        .links-grid {\n" +
"            display: grid;\n" +
"            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n" +
"            gap: 1rem;\n" +
"            margin: 2rem 0;\n" +
"        }\n" +
"\n" +
"        .link-card {\n" +
"            background: var(--bg-secondary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 8px;\n" +
"            padding: 1.25rem;\n" +
"            text-decoration: none;\n" +
"            color: var(--text-primary);\n" +
"            display: block;\n" +
"            transition: all 0.2s ease;\n" +
"        }\n" +
"\n" +
"        .link-card:hover {\n" +
"            border-color: var(--accent);\n" +
"            background: var(--bg-tertiary);\n" +
"            transform: translateY(-2px);\n" +
"        }\n" +
"\n" +
"        .link-card h4 {\n" +
"            color: var(--accent);\n" +
"            margin-bottom: 0.5rem;\n" +
"            font-size: 1rem;\n" +
"        }\n" +
"\n" +
"        .link-card p {\n" +
"            margin: 0;\n" +
"            font-size: 0.875rem;\n" +
"            color: var(--text-secondary);\n" +
"        }\n" +
"\n" +
"        ul, ol {\n" +
"            margin: 1rem 0 1rem 2rem;\n" +
"            color: var(--text-secondary);\n" +
"        }\n" +
"\n" +
"        li {\n" +
"            margin-bottom: 0.5rem;\n" +
"            line-height: 1.6;\n" +
"        }\n" +
"\n" +
"        .badge {\n" +
"            display: inline-block;\n" +
"            background: var(--accent);\n" +
"            color: white;\n" +
"            padding: 0.25rem 0.75rem;\n" +
"            border-radius: 4px;\n" +
"            font-size: 0.75rem;\n" +
"            font-weight: 600;\n" +
"            margin-left: 0.5rem;\n" +
"        }\n" +
"\n" +
"        .comment-form {\n" +
"            background: var(--bg-secondary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 8px;\n" +
"            padding: 2rem;\n" +
"            margin: 2rem 0;\n" +
"        }\n" +
"\n" +
"        .comment-form input,\n" +
"        .comment-form textarea {\n" +
"            width: 100%;\n" +
"            background: var(--bg-tertiary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 6px;\n" +
"            padding: 0.75rem;\n" +
"            color: var(--text-primary);\n" +
"            font-family: inherit;\n" +
"            font-size: 0.95rem;\n" +
"            margin-bottom: 1rem;\n" +
"            resize: vertical;\n" +
"        }\n" +
"\n" +
"        .comment-form input:focus,\n" +
"        .comment-form textarea:focus {\n" +
"            outline: none;\n" +
"            border-color: var(--accent);\n" +
"        }\n" +
"\n" +
"        .comment-form button {\n" +
"            background: var(--accent);\n" +
"            color: white;\n" +
"            border: none;\n" +
"            border-radius: 6px;\n" +
"            padding: 0.75rem 2rem;\n" +
"            font-size: 1rem;\n" +
"            font-weight: 600;\n" +
"            cursor: pointer;\n" +
"            transition: background 0.2s ease;\n" +
"        }\n" +
"\n" +
"        .comment-form button:hover {\n" +
"            background: var(--accent-hover);\n" +
"        }\n" +
"\n" +
"        .comments-list {\n" +
"            margin-top: 2rem;\n" +
"        }\n" +
"\n" +
"        .comment-item {\n" +
"            background: var(--bg-secondary);\n" +
"            border: 1px solid var(--border);\n" +
"            border-radius: 8px;\n" +
"            padding: 1.5rem;\n" +
"            margin-bottom: 1rem;\n" +
"        }\n" +
"\n" +
"        .comment-header {\n" +
"            display: flex;\n" +
"            justify-content: space-between;\n" +
"            align-items: center;\n" +
"            margin-bottom: 0.75rem;\n" +
"        }\n" +
"\n" +
"        .comment-author {\n" +
"            font-weight: 600;\n" +
"            color: var(--accent);\n" +
"            font-size: 1rem;\n" +
"        }\n" +
"\n" +
"        .comment-date {\n" +
"            font-size: 0.875rem;\n" +
"            color: var(--text-secondary);\n" +
"        }\n" +
"\n" +
"        .comment-text {\n" +
"            color: var(--text-primary);\n" +
"            line-height: 1.6;\n" +
"            white-space: pre-wrap;\n" +
"        }\n" +
"\n" +
"        @media (max-width: 768px) {\n" +
"            .sidebar {\n" +
"                width: 100%;\n" +
"                height: auto;\n" +
"                position: relative;\n" +
"                border-right: none;\n" +
"                border-bottom: 1px solid var(--border);\n" +
"            }\n" +
"\n" +
"            .main-content {\n" +
"                margin-left: 0;\n" +
"                padding: 2rem 1.5rem;\n" +
"            }\n" +
"        }\n" +
"    </style>\n" +
"</head>\n" +
"<body>\n" +
"    <!-- Menu Lateral -->\n" +
"    <aside class=\"sidebar\">\n" +
"        <div class=\"sidebar-header\">\n" +
"            <h1>üöÄ Trest</h1>\n" +
"            <p>v2.4.9</p>\n" +
"        </div>\n" +
"        <nav>\n" +
"            <ul class=\"nav-menu\">\n" +
"                <li><a href=\"#inicio\">In√≠cio</a></li>\n" +
"                <li><a href=\"#sobre\">Sobre</a></li>\n" +
"                <li><a href=\"#pontos-fortes\">Pontos Fortes</a></li>\n" +
"                <li><a href=\"#caracteristicas\">Caracter√≠sticas</a></li>\n" +
"                <li><a href=\"#exemplos\">Exemplos</a></li>\n" +
"                <li><a href=\"#biblioteca\">Biblioteca Padr√£o</a></li>\n" +
"                <li><a href=\"#links\">Links √öteis</a></li>\n" +
"                <li><a href=\"#comentarios\">Coment√°rios</a></li>\n" +
"            </ul>\n" +
"        </nav>\n" +
"    </aside>\n" +
"\n" +
"    <!-- Conte√∫do Principal -->\n" +
"    <main class=\"main-content\">\n" +
"        <section id=\"inicio\">\n" +
"            <h1>Trest Language</h1>\n" +
"            <p class=\"intro\">\n" +
"                Linguagem de programa√ß√£o moderna e profissional com suporte completo a cir√≠lico.\n" +
"                Permite programar usando palavras-chave em russo ou latino, mantendo a mesma sintaxe e funcionalidades.\n" +
"            </p>\n" +
"            <p>\n" +
"                Trest compila para Web (JavaScript) e Desktop (.exe), oferecendo uma biblioteca padr√£o rica\n" +
"                e um sistema de m√≥dulos completo. Zero barreira lingu√≠stica para falantes de russo.\n" +
"            </p>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"sobre\">\n" +
"            <h2>Sobre Trest</h2>\n" +
"            <p>\n" +
"                Trest √© uma linguagem de programa√ß√£o criada para ser moderna, intuitiva e poderosa.\n" +
"                Sua principal caracter√≠stica √© o suporte nativo ao alfabeto cir√≠lico, permitindo que\n" +
"                programadores russos escrevam c√≥digo usando palavras-chave em seu idioma nativo.\n" +
"            </p>\n" +
"            <p>\n" +
"                Desenvolvida com foco em produtividade, Trest oferece uma sintaxe limpa baseada em\n" +
"                JavaScript/TypeScript, mas com recursos √∫nicos que a tornam especial. O mesmo c√≥digo\n" +
"                pode ser compilado para diferentes plataformas sem modifica√ß√µes.\n" +
"            </p>\n" +
"            <div class=\"code-block\">\n" +
"                <code>–ø–µ—á–∞—Ç—å(\"–ü—Ä–∏–≤–µ—Ç, –ú–∏—Ä!\")</code>\n" +
"            </div>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"pontos-fortes\">\n" +
"            <h2>Pontos Fortes</h2>\n" +
"            <div class=\"feature-grid\">\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>üåê Suporte Total ao Cir√≠lico</h3>\n" +
"                    <p>Palavras-chave em russo nativas, permitindo programa√ß√£o completamente em cir√≠lico.</p>\n" +
"                </div>\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>‚ö° Compila√ß√£o Universal</h3>\n" +
"                    <p>Compila para Web (JavaScript) e Desktop (.exe) a partir do mesmo c√≥digo fonte.</p>\n" +
"                </div>\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>üìö Biblioteca Padr√£o Rica</h3>\n" +
"                    <p>15+ m√≥dulos prontos para usar: HTTP, Crypto, FileSystem, Database e mais.</p>\n" +
"                </div>\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>üîß Tipagem Din√¢mica</h3>\n" +
"                    <p>Tipos inferidos automaticamente, tornando o desenvolvimento mais √°gil.</p>\n" +
"                </div>\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>üì¶ Sistema de M√≥dulos</h3>\n" +
"                    <p>Import/Export completo para organizar c√≥digo em m√∫ltiplos arquivos.</p>\n" +
"                </div>\n" +
"                <div class=\"feature-card\">\n" +
"                    <h3>üõ°Ô∏è Tratamento de Erros</h3>\n" +
"                    <p>Try/Catch/Throw robusto com mensagens claras de erro.</p>\n" +
"                </div>\n" +
"            </div>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"caracteristicas\">\n" +
"            <h2>Caracter√≠sticas Principais</h2>\n" +
"            <ul>\n" +
"                <li><strong>Execu√ß√£o Inline:</strong> Execute c√≥digo direto na linha de comando com <code>-e</code></li>\n" +
"                <li><strong>Compila√ß√£o para Web:</strong> Gera JavaScript otimizado para navegadores e Node.js</li>\n" +
"                <li><strong>Compila√ß√£o para Desktop:</strong> Cria execut√°veis .exe nativos standalone</li>\n" +
"                <li><strong>Sintaxe Intuitiva:</strong> Baseada em JavaScript/TypeScript, f√°cil de aprender</li>\n" +
"                <li><strong>Zero Configura√ß√£o:</strong> Funciona imediatamente ap√≥s instala√ß√£o</li>\n" +
"                <li><strong>Desenvolvimento Ativo:</strong> Vers√£o 2.4.9 com melhorias constantes</li>\n" +
"            </ul>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"exemplos\">\n" +
"            <h2>Exemplos de C√≥digo</h2>\n" +
"\n" +
"            <h3>Vari√°veis e Fun√ß√µes</h3>\n" +
"            <div class=\"code-block\">\n" +
"                <code>–ø—É—Å—Ç—å –∏–º—è = \"Trest\"<br>" +
"–ø—É—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç = 25<br><br>" +
"—Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ(–∏–º—è) {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–≤–µ—Ä–Ω—É—Ç—å \"–ü—Ä–∏–≤–µ—Ç, \" + –∏–º—è<br>" +
"}<br><br>" +
"–ø–µ—á–∞—Ç—å(–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ(\"–ú–∏—Ä\"))</code>\n" +
"            </div>\n" +
"\n" +
"            <h3>Condicionais e Loops</h3>\n" +
"            <div class=\"code-block\">\n" +
"                <code>–µ—Å–ª–∏ (–≤–æ–∑—Ä–∞—Å—Ç >= 18) {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–ø–µ—á–∞—Ç—å(\"–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π\")<br>" +
"} –∏–Ω–∞—á–µ {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–ø–µ—á–∞—Ç—å(\"–†–µ–±–µ–Ω–æ–∫\")<br>" +
"}<br><br>" +
"–¥–ª—è (–ø—É—Å—Ç—å i = 0; i < 10; i = i + 1) {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–ø–µ—á–∞—Ç—å(i)<br>" +
"}</code>\n" +
"            </div>\n" +
"\n" +
"            <h3>Servidor HTTP</h3>\n" +
"            <div class=\"code-block\">\n" +
"                <code>–∏–º–ø–æ—Ä—Ç * –∫–∞–∫ HTTP –∏–∑–º–æ–¥—É–ª—è \"std/http\"<br><br>" +
"–ø—É—Å—Ç—å servidor = HTTP.—Å–æ–∑–¥–∞—Ç—å–°–µ—Ä–≤–µ—Ä()<br><br>" +
"servidor.get(\"/\", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–æ—Ç–≤–µ—Ç.send(\"<h1>Ol√° do Trest!</h1>\")<br>" +
"})<br><br>" +
"servidor.listen(3000, —Ñ—É–Ω–∫—Ü–∏—è() {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;–ø–µ—á–∞—Ç—å(\"‚úÖ Servidor iniciado\")<br>" +
"})</code>\n" +
"            </div>\n" +
"\n" +
"            <h3>Classes e OOP</h3>\n" +
"            <div class=\"code-block\">\n" +
"                <code>–∫–ª–∞—Å—Å –ß–µ–ª–æ–≤–µ–∫ {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;—Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä(–∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç) {<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—ç—Ç–æ.–∏–º—è = –∏–º—è<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—ç—Ç–æ.–≤–æ–∑—Ä–∞—Å—Ç = –≤–æ–∑—Ä–∞—Å—Ç<br>" +
"&nbsp;&nbsp;&nbsp;&nbsp;}<br>" +
"}<br><br>" +
"–ø—É—Å—Ç—å –∏–≤–∞–Ω = –Ω–æ–≤—ã–π –ß–µ–ª–æ–≤–µ–∫(\"–ò–≤–∞–Ω\", 30)<br>" +
"–ø–µ—á–∞—Ç—å(–∏–≤–∞–Ω.–∏–º—è)</code>\n" +
"            </div>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"biblioteca\">\n" +
"            <h2>Biblioteca Padr√£o (std)</h2>\n" +
"            <p>Trest inclui uma biblioteca padr√£o completa com 15 m√≥dulos prontos para usar:</p>\n" +
"            <ul>\n" +
"                <li><strong>Math:</strong> Fun√ß√µes matem√°ticas (sqrt, pow, abs, PI, E)</li>\n" +
"                <li><strong>String:</strong> Manipula√ß√£o de strings (tamanho, mai√∫sculas, substituir)</li>\n" +
"                <li><strong>Array:</strong> Opera√ß√µes com arrays (adicionar, remover, ordenar)</li>\n" +
"                <li><strong>HTTP:</strong> Cliente e servidor HTTP completo</li>\n" +
"                <li><strong>Crypto:</strong> Criptografia e seguran√ßa (MD5, SHA256, AES)</li>\n" +
"                <li><strong>FileSystem:</strong> Opera√ß√µes de arquivo e diret√≥rio</li>\n" +
"                <li><strong>JSON:</strong> Parsing e stringifica√ß√£o de JSON</li>\n" +
"                <li><strong>Date:</strong> Manipula√ß√£o de datas e timestamps</li>\n" +
"                <li><strong>Database:</strong> Conex√£o e modelos de banco de dados</li>\n" +
"                <li><strong>Async:</strong> Promises, timers e opera√ß√µes ass√≠ncronas</li>\n" +
"                <li><strong>RegEx:</strong> Express√µes regulares</li>\n" +
"                <li><strong>Path:</strong> Manipula√ß√£o de caminhos de arquivo</li>\n" +
"                <li><strong>Process:</strong> Vari√°veis de ambiente e sistema</li>\n" +
"                <li><strong>IO:</strong> Entrada e sa√≠da de dados</li>\n" +
"                <li><strong>GUI:</strong> Interface gr√°fica (em desenvolvimento)</li>\n" +
"            </ul>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"comentarios\">\n" +
"            <h2>Coment√°rios</h2>\n" +
"            <div class=\"comment-form\">\n" +
"                <h3>Deixe seu coment√°rio</h3>\n" +
"                <form id=\"commentForm\">\n" +
"                    <input type=\"text\" id=\"commentName\" placeholder=\"Seu nome\" required>\n" +
"                    <textarea id=\"commentText\" placeholder=\"Seu coment√°rio\" rows=\"4\" required></textarea>\n" +
"                    <button type=\"submit\">Enviar Coment√°rio</button>\n" +
"                </form>\n" +
"            </div>\n" +
"            <div id=\"commentsList\" class=\"comments-list\">\n" +
"                <p style=\"color: var(--text-secondary);\">Carregando coment√°rios...</p>\n" +
"            </div>\n" +
"        </section>\n" +
"\n" +
"        <section id=\"links\">\n" +
"            <h2>Links √öteis</h2>\n" +
"            <div class=\"links-grid\">\n" +
"                <a href=\"https://trest-site.vercel.app/\" target=\"_blank\" class=\"link-card\">\n" +
"                    <h4>üåê Site Oficial</h4>\n" +
"                    <p>Documenta√ß√£o completa e exemplos no site oficial do Trest</p>\n" +
"                </a>\n" +
"                <a href=\"https://www.npmjs.com/package/treste\" target=\"_blank\" class=\"link-card\">\n" +
"                    <h4>üì¶ NPM Package</h4>\n" +
"                    <p>Pacote oficial no NPM para instala√ß√£o e uso</p>\n" +
"                </a>\n" +
"                <a href=\"https://socket.dev/npm/package/treste\" target=\"_blank\" class=\"link-card\">\n" +
"                    <h4>üîí Socket Security</h4>\n" +
"                    <p>An√°lise de seguran√ßa do pacote Trest no Socket</p>\n" +
"                </a>\n" +
"            </div>\n" +
"            <p style=\"margin-top: 2rem; color: var(--text-secondary); font-size: 0.875rem;\">\n" +
"                Vers√£o 2.4.9 ‚Ä¢ Licen√ßa MIT ‚Ä¢ Desenvolvido por PoktWeb\n" +
"            </p>\n" +
"        </section>\n" +
"    </main>\n" +
"    <script>\n" +
"        // Carregar coment√°rios ao carregar p√°gina\n" +
"        function carregarComentarios() {\n" +
"            fetch('/api/comments')\n" +
"                .then(res => res.json())\n" +
"                .then(data => {\n" +
"                    const listDiv = document.getElementById('commentsList');\n" +
"                    if (data.length === 0) {\n" +
"                        listDiv.innerHTML = '<p style=\"color: var(--text-secondary);\">Nenhum coment√°rio ainda. Seja o primeiro!</p>';\n" +
"                        return;\n" +
"                    }\n" +
"                    listDiv.innerHTML = data.map(comment => `\n" +
"                        <div class=\"comment-item\">\n" +
"                            <div class=\"comment-header\">\n" +
"                                <span class=\"comment-author\">${escapeHtml(comment.name)}</span>\n" +
"                                <span class=\"comment-date\">${new Date(comment.date).toLocaleString('pt-BR')}</span>\n" +
"                            </div>\n" +
"                            <div class=\"comment-text\">${escapeHtml(comment.text)}</div>\n" +
"                        </div>\n" +
"                    `).join('');\n" +
"                })\n" +
"                .catch(err => {\n" +
"                    console.error('Erro ao carregar coment√°rios:', err);\n" +
"                    document.getElementById('commentsList').innerHTML = '<p style=\"color: var(--text-secondary);\">Erro ao carregar coment√°rios.</p>';\n" +
"                });\n" +
"        }\n" +
"\n" +
"        function escapeHtml(text) {\n" +
"            const div = document.createElement('div');\n" +
"            div.textContent = text;\n" +
"            return div.innerHTML;\n" +
"        }\n" +
"\n" +
"        // Enviar coment√°rio\n" +
"        document.getElementById('commentForm').addEventListener('submit', function(e) {\n" +
"            e.preventDefault();\n" +
"            const name = document.getElementById('commentName').value;\n" +
"            const text = document.getElementById('commentText').value;\n" +
"\n" +
"            fetch('/api/comments', {\n" +
"                method: 'POST',\n" +
"                headers: { 'Content-Type': 'application/json' },\n" +
"                body: JSON.stringify({ name: name, text: text })\n" +
"            })\n" +
"            .then(res => res.json())\n" +
"            .then(data => {\n" +
"                if (data.success) {\n" +
"                    document.getElementById('commentForm').reset();\n" +
"                    carregarComentarios();\n" +
"                } else {\n" +
"                    alert('Erro ao enviar coment√°rio: ' + (data.error || 'Erro desconhecido'));\n" +
"                }\n" +
"            })\n" +
"            .catch(err => {\n" +
"                console.error('Erro:', err);\n" +
"                alert('Erro ao enviar coment√°rio');\n" +
"            });\n" +
"        });\n" +
"\n" +
"        // Carregar coment√°rios ao carregar p√°gina\n" +
"        carregarComentarios();\n" +
"    </script>\n" +
"</body>\n" +
"</html>"
}

# Criar servidor HTTP
–ø—É—Å—Ç—å servidor = HTTP.—Å–æ–∑–¥–∞—Ç—å–°–µ—Ä–≤–µ—Ä()

# Rota principal
servidor.get("/", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –æ—Ç–≤–µ—Ç.status(200)
    –æ—Ç–≤–µ—Ç.header("Content-Type", "text/html; charset=utf-8")
    –æ—Ç–≤–µ—Ç.send(obterHTMLCompleto())
})

# Rota de status (API JSON)
servidor.get("/api/status", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –ø—É—Å—Ç—å status = {
        servidor = "Trest",
        versao = "2.4.9",
        online = –∏—Å—Ç–∏–Ω–∞,
        linguagem = "Trest Language"
    }
    –æ—Ç–≤–µ—Ç.json(status)
})

# Rota de login (p√°gina)
servidor.get("/login", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –æ—Ç–≤–µ—Ç.status(200)
    –æ—Ç–≤–µ—Ç.header("Content-Type", "text/html; charset=utf-8")
    –æ—Ç–≤–µ—Ç.send(obterHTMLLogin())
})

# API de login
servidor.post("/api/login", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –ø—É—Å—Ç—å body = –∑–∞–ø—Ä–æ—Å.body
        –ø–µ—á–∞—Ç—å("Login attempt - body: " + body)
        –ø—É—Å—Ç—å username = body.username
        –ø—É—Å—Ç—å password = body.password
        –ø–µ—á–∞—Ç—å("Login attempt - username: " + username + ", password: " + password)
        
        # Ler usu√°rios do arquivo
        –ø—É—Å—Ç—å users = lerJSON("data/users.json")
        –ø–µ—á–∞—Ç—å("Users loaded: " + Array.–¥–ª–∏–Ω–∞(users))
        
        –ø—É—Å—Ç—å userEncontrado = –ª–æ–∂—å
        –¥–ª—è (–ø—É—Å—Ç—å user –∏–∑ users) {
            –ø–µ—á–∞—Ç—å("Checking user: " + user.username + " == " + username + " && " + user.password + " == " + password)
            –µ—Å–ª–∏ (user.username == username && user.password == password) {
                userEncontrado = –∏—Å—Ç–∏–Ω–∞
                –ø—Ä–µ—Ä–≤–∞—Ç—å
            }
        }
        
        –µ—Å–ª–∏ (userEncontrado) {
            –ø—É—Å—Ç—å token = criarToken()
            sessions[token] = { username = username, timestamp = Date.timestamp() }
            –æ—Ç–≤–µ—Ç.header("Set-Cookie", "auth_token=" + token + "; Path=/; HttpOnly; Max-Age=3600")
            –æ—Ç–≤–µ—Ç.json({ success = –∏—Å—Ç–∏–Ω–∞, token = token })
        } –∏–Ω–∞—á–µ {
            –æ—Ç–≤–µ—Ç.status(401)
            –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Credenciais inv√°lidas" })
        }
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –ø–µ—á–∞—Ç—å("Erro no login: " + erro)
        –æ—Ç–≤–µ—Ç.status(500)
        –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Erro ao processar login: " + erro })
    }
})

# API para obter coment√°rios
servidor.get("/api/comments", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –ø—É—Å—Ç—å comments = lerJSON("data/comments.json")
        –æ—Ç–≤–µ—Ç.json(comments)
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –æ—Ç–≤–µ—Ç.status(500)
        –æ—Ç–≤–µ—Ç.json({ error = "Erro ao carregar coment√°rios" })
    }
})

# API para adicionar coment√°rio
servidor.post("/api/comments", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –ø—É—Å—Ç—å body = –∑–∞–ø—Ä–æ—Å.body
        –ø—É—Å—Ç—å comments = lerJSON("data/comments.json")
        
        –ø—É—Å—Ç—å novoComment = {
            id = Date.timestamp() + "-" + Crypto.randomBytes(8),
            name = body.name,
            text = body.text,
            date = Date.timestamp()
        }
        
        Array.–¥–æ–±–∞–≤–∏—Ç—å(comments, novoComment)
        escreverJSON("data/comments.json", comments)
        
        –æ—Ç–≤–µ—Ç.json({ success = –∏—Å—Ç–∏–Ω–∞, comment = novoComment })
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –æ—Ç–≤–µ—Ç.status(500)
        –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Erro ao adicionar coment√°rio" })
    }
})

# Rota do painel admin (protegida)
servidor.get("/admin", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –µ—Å–ª–∏ (!verificarAuth(–∑–∞–ø—Ä–æ—Å)) {
        –æ—Ç–≤–µ—Ç.status(302)
        –æ—Ç–≤–µ—Ç.header("Location", "/login")
        –æ—Ç–≤–µ—Ç.send("")
    } –∏–Ω–∞—á–µ {
        –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –ø—É—Å—Ç—å comments = lerJSON("data/comments.json")
        –ø—É—Å—Ç—å html = "<!DOCTYPE html>\n" +
"<html lang=\"pt-BR\">\n" +
"<head>\n" +
"    <meta charset=\"UTF-8\">\n" +
"    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n" +
"    <title>Painel Admin - Coment√°rios</title>\n" +
"    <style>\n" +
"        * { margin: 0; padding: 0; box-sizing: border-box; }\n" +
"        body {\n" +
"            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n" +
"            background: #0a0a0a;\n" +
"            color: #e0e0e0;\n" +
"            padding: 2rem;\n" +
"        }\n" +
"        .container { max-width: 1000px; margin: 0 auto; }\n" +
"        .header {\n" +
"            display: flex;\n" +
"            justify-content: space-between;\n" +
"            align-items: center;\n" +
"            margin-bottom: 2rem;\n" +
"            padding-bottom: 1rem;\n" +
"            border-bottom: 1px solid #2a2a2a;\n" +
"        }\n" +
"        .header h1 { color: #6366f1; }\n" +
"        .btn { background: #6366f1; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; text-decoration: none; display: inline-block; }\n" +
"        .btn:hover { background: #818cf8; }\n" +
"        .btn-danger { background: #ef4444; }\n" +
"        .btn-danger:hover { background: #dc2626; }\n" +
"        .comment-item {\n" +
"            background: #141414;\n" +
"            border: 1px solid #2a2a2a;\n" +
"            border-radius: 8px;\n" +
"            padding: 1.5rem;\n" +
"            margin-bottom: 1rem;\n" +
"        }\n" +
"        .comment-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }\n" +
"        .comment-author { font-weight: 600; color: #6366f1; }\n" +
"        .comment-date { font-size: 0.875rem; color: #a0a0a0; }\n" +
"        .comment-actions { margin-top: 1rem; }\n" +
"        .comment-actions button { margin-right: 0.5rem; }\n" +
"        .comment-text { color: #e0e0e0; line-height: 1.6; white-space: pre-wrap; margin-bottom: 1rem; }\n" +
"        .edit-form { display: none; margin-top: 1rem; }\n" +
"        .edit-form textarea {\n" +
"            width: 100%;\n" +
"            background: #1a1a1a;\n" +
"            border: 1px solid #2a2a2a;\n" +
"            border-radius: 6px;\n" +
"            padding: 0.75rem;\n" +
"            color: #e0e0e0;\n" +
"            font-family: inherit;\n" +
"            resize: vertical;\n" +
"            min-height: 100px;\n" +
"        }\n" +
"        .edit-form button { margin-top: 0.5rem; }\n" +
"        .empty { text-align: center; color: #a0a0a0; padding: 3rem; }\n" +
"    </style>\n" +
"</head>\n" +
"<body>\n" +
"    <div class=\"container\">\n" +
"        <div class=\"header\">\n" +
"            <h1>üîê Painel Admin - Coment√°rios</h1>\n" +
"            <div>\n" +
"                <a href=\"/\" class=\"btn\">‚Üê Voltar ao site</a>\n" +
"                <button class=\"btn btn-danger\" onclick=\"logout()\" style=\"margin-left: 0.5rem;\">Sair</button>\n" +
"            </div>\n" +
"        </div>\n" +
"        <div id=\"commentsList\">Carregando coment√°rios...</div>\n" +
"    </div>\n" +
"    <script>\n" +
"        let comments = " + JSON.stringify(comments) + ";\n" +
"        function renderComments() {\n" +
"            const div = document.getElementById('commentsList');\n" +
"            if (comments.length === 0) {\n" +
"                div.innerHTML = '<div class=\"empty\">Nenhum coment√°rio ainda.</div>';\n" +
"                return;\n" +
"            }\n" +
"            div.innerHTML = comments.map((comment, index) => `\n" +
"                <div class=\"comment-item\" id=\"comment-${comment.id}\">\n" +
"                    <div class=\"comment-header\">\n" +
"                        <span class=\"comment-author\">${escapeHtml(comment.name)}</span>\n" +
"                        <span class=\"comment-date\">${new Date(comment.date).toLocaleString('pt-BR')}</span>\n" +
"                    </div>\n" +
"                    <div class=\"comment-text\" id=\"text-${comment.id}\">${escapeHtml(comment.text)}</div>\n" +
"                    <div class=\"edit-form\" id=\"edit-${comment.id}\">\n" +
"                        <textarea id=\"textarea-${comment.id}\">${escapeHtml(comment.text)}</textarea>\n" +
"                        <button class=\"btn\" onclick=\"saveEdit('${comment.id}')\">Salvar</button>\n" +
"                        <button class=\"btn\" onclick=\"cancelEdit('${comment.id}')\">Cancelar</button>\n" +
"                    </div>\n" +
"                    <div class=\"comment-actions\">\n" +
"                        <button class=\"btn\" onclick=\"editComment('${comment.id}')\">Editar</button>\n" +
"                        <button class=\"btn btn-danger\" onclick=\"deleteComment('${comment.id}')\">Deletar</button>\n" +
"                    </div>\n" +
"                </div>\n" +
"            `).join('');\n" +
"        }\n" +
"        function escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; }\n" +
"        function editComment(id) {\n" +
"            document.getElementById('text-' + id).style.display = 'none';\n" +
"            document.getElementById('edit-' + id).style.display = 'block';\n" +
"        }\n" +
"        function cancelEdit(id) {\n" +
"            document.getElementById('text-' + id).style.display = 'block';\n" +
"            document.getElementById('edit-' + id).style.display = 'none';\n" +
"        }\n" +
"        function saveEdit(id) {\n" +
"            const text = document.getElementById('textarea-' + id).value;\n" +
"            fetch('/api/admin/comments/' + id, {\n" +
"                method: 'POST',\n" +
"                headers: { 'Content-Type': 'application/json' },\n" +
"                body: JSON.stringify({ text: text })\n" +
"            })\n" +
"            .then(res => res.json())\n" +
"            .then(data => {\n" +
"                if (data.success) {\n" +
"                    const comment = comments.find(c => c.id === id);\n" +
"                    if (comment) comment.text = text;\n" +
"                    renderComments();\n" +
"                } else {\n" +
"                    alert('Erro ao editar: ' + (data.error || 'Erro desconhecido'));\n" +
"                }\n" +
"            })\n" +
"            .catch(err => { alert('Erro ao editar coment√°rio'); });\n" +
"        }\n" +
"        function deleteComment(id) {\n" +
"            if (!confirm('Tem certeza que deseja deletar este coment√°rio?')) return;\n" +
"            fetch('/api/admin/comments/' + id, { method: 'DELETE' })\n" +
"            .then(res => res.json())\n" +
"            .then(data => {\n" +
"                if (data.success) {\n" +
"                    comments = comments.filter(c => c.id !== id);\n" +
"                    renderComments();\n" +
"                } else {\n" +
"                    alert('Erro ao deletar: ' + (data.error || 'Erro desconhecido'));\n" +
"                }\n" +
"            })\n" +
"            .catch(err => { alert('Erro ao deletar coment√°rio'); });\n" +
"        }\n" +
"        function logout() {\n" +
"            fetch('/api/logout', { method: 'POST' })\n" +
"            .then(() => { window.location.href = '/login'; });\n" +
"        }\n" +
"        renderComments();\n" +
"    </script>\n" +
"</body>\n" +
"</html>"
        –æ—Ç–≤–µ—Ç.status(200)
        –æ—Ç–≤–µ—Ç.header("Content-Type", "text/html; charset=utf-8")
        –æ—Ç–≤–µ—Ç.send(html)
    } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
        –æ—Ç–≤–µ—Ç.status(500)
        –æ—Ç–≤–µ—Ç.send("Erro ao carregar painel admin")
        }
    }
})

# API para editar coment√°rio (admin)
servidor.post("/api/admin/comments/:id", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –µ—Å–ª–∏ (!verificarAuth(–∑–∞–ø—Ä–æ—Å)) {
        –æ—Ç–≤–µ—Ç.status(401)
        –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "N√£o autorizado" })
    } –∏–Ω–∞—á–µ {
        –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
        –ø—É—Å—Ç—å commentId = –∑–∞–ø—Ä–æ—Å.pathname
        # Extrair ID da URL
        –ø—É—Å—Ç—å partes = String.—Ä–∞–∑–¥–µ–ª–∏—Ç—å(commentId, "/")
        –ø—É—Å—Ç—å id = partes[Array.–¥–ª–∏–Ω–∞(partes) - 1]
        
        –ø—É—Å—Ç—å comments = lerJSON("data/comments.json")
        –ø—É—Å—Ç—å body = –∑–∞–ø—Ä–æ—Å.body
        
        –ø—É—Å—Ç—å encontrado = –ª–æ–∂—å
        –¥–ª—è (–ø—É—Å—Ç—å i = 0; i < Array.–¥–ª–∏–Ω–∞(comments); i = i + 1) {
            –µ—Å–ª–∏ (comments[i].id == id) {
                comments[i].text = body.text
                encontrado = –∏—Å—Ç–∏–Ω–∞
                –ø—Ä–µ—Ä–≤–∞—Ç—å
            }
        }
        
        –µ—Å–ª–∏ (encontrado) {
            escreverJSON("data/comments.json", comments)
            –æ—Ç–≤–µ—Ç.json({ success = –∏—Å—Ç–∏–Ω–∞ })
        } –∏–Ω–∞—á–µ {
            –æ—Ç–≤–µ—Ç.status(404)
            –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Coment√°rio n√£o encontrado" })
        }
        } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
            –æ—Ç–≤–µ—Ç.status(500)
            –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Erro ao editar coment√°rio" })
        }
    }
})

# API para deletar coment√°rio (admin)
servidor.delete("/api/admin/comments/:id", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –µ—Å–ª–∏ (!verificarAuth(–∑–∞–ø—Ä–æ—Å)) {
        –æ—Ç–≤–µ—Ç.status(401)
        –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "N√£o autorizado" })
    } –∏–Ω–∞—á–µ {
        –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è {
            –ø—É—Å—Ç—å commentId = –∑–∞–ø—Ä–æ—Å.pathname
            –ø—É—Å—Ç—å partes = String.—Ä–∞–∑–¥–µ–ª–∏—Ç—å(commentId, "/")
            –ø—É—Å—Ç—å id = partes[Array.–¥–ª–∏–Ω–∞(partes) - 1]
            
            –ø—É—Å—Ç—å comments = lerJSON("data/comments.json")
            –ø—É—Å—Ç—å novosComments = []
            
            –¥–ª—è (–ø—É—Å—Ç—å comment –∏–∑ comments) {
                –µ—Å–ª–∏ (comment.id != id) {
                    Array.–¥–æ–±–∞–≤–∏—Ç—å(novosComments, comment)
                }
            }
            
            escreverJSON("data/comments.json", novosComments)
            –æ—Ç–≤–µ—Ç.json({ success = –∏—Å—Ç–∏–Ω–∞ })
        } –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å (erro) {
            –æ—Ç–≤–µ—Ç.status(500)
            –æ—Ç–≤–µ—Ç.json({ success = –ª–æ–∂—å, error = "Erro ao deletar coment√°rio" })
        }
    }
})

# API de logout
servidor.post("/api/logout", —Ñ—É–Ω–∫—Ü–∏—è(–∑–∞–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) {
    –ø—É—Å—Ç—å cookieHeader = –∑–∞–ø—Ä–æ—Å.headers["cookie"]
    –µ—Å–ª–∏ (cookieHeader == –Ω—É–ª—å) {
        cookieHeader = –∑–∞–ø—Ä–æ—Å.headers["Cookie"]
    }
    –ø—É—Å—Ç—å token = extrairCookie(cookieHeader, "auth_token")
    –µ—Å–ª–∏ (token != –Ω—É–ª—å) {
        sessions[token] = –Ω—É–ª—å
    }
    –æ—Ç–≤–µ—Ç.header("Set-Cookie", "auth_token=; Path=/; HttpOnly; Max-Age=0")
    –æ—Ç–≤–µ—Ç.json({ success = –∏—Å—Ç–∏–Ω–∞ })
})

# Iniciar servidor
servidor.listen(3000, —Ñ—É–Ω–∫—Ü–∏—è() {
    –ø–µ—á–∞—Ç—å("üöÄ Site Trest iniciado com sucesso!")
    –ø–µ—á–∞—Ç—å("üåê Acesse: http://localhost:3000")
    –ø–µ—á–∞—Ç—å("üìä Status API: http://localhost:3000/api/status")
})
